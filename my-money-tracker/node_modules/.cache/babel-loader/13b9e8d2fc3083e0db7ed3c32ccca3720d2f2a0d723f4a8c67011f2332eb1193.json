{"ast":null,"code":"var _jsxFileName = \"D:\\\\Users\\\\Robotgeek\\\\Documents\\\\GitHub\\\\MoneyTracker\\\\my-money-tracker\\\\src\\\\components\\\\CategoryProvider.js\",\n  _s = $RefreshSig$();\nimport CategoryContext from \"../contexts/CategoryContext\";\nimport React, { useState, useEffect } from \"react\";\nimport { useContext } from \"react\";\nimport { LoginContext } from \"./LoginProvider\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction CategoryProvider(_ref) {\n  _s();\n  let {\n    children\n  } = _ref;\n  const [CategoryList, setCategoryList] = useState([]);\n  const UserID = useContext(LoginContext);\n  useEffect(() => {\n    fetch(`http://localhost:8080/api/v1/kategorija/getbyuserid/${UserID}`).then(res => {\n      return res.json();\n    }).then(data => {\n      setCategoryList(data);\n    }).catch(error => {\n      console.error(\"Error fetching transaction data:\", error);\n    });\n  }, [UserID]);\n  const updateCList = newCList => {\n    setCategoryList(newCList);\n  };\n  const addCategory = async (name, limit, type) => {\n    console.log('addCategory function called with:', name, limit, type);\n    try {\n      const newCategory = {\n        id: CategoryList.length + 1,\n        name,\n        userID: UserID,\n        limit,\n        type,\n        transactions: []\n      };\n      const response = await axios.post('http://localhost:8080/api/v1/kategorija/add', newCategory);\n      if (response.status === 200) {\n        console.log(response);\n        setCategoryList([...CategoryList, newCategory]);\n        updateCList(CategoryList);\n      }\n    } catch (error) {\n      console.error(error);\n    }\n    setCategoryList([...CategoryList, newCategory]);\n    updateCList(CategoryList);\n  };\n  return /*#__PURE__*/_jsxDEV(CategoryContext.Provider, {\n    value: {\n      CategoryList,\n      addCategory,\n      updateCList\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 9\n  }, this);\n  /*const addTransaction = (categoryId, name, value) => {\r\n      // API call to add transaction\r\n      // For now, we'll mock the API call\r\n      const updatedCategories = categories.map(category => {\r\n        if (category.id === categoryId) {\r\n          const newTransaction = {\r\n            id: category.transactions.length + 1,\r\n            name,\r\n            value,\r\n            userId,\r\n            categoryId\r\n          };\r\n          category.transactions.push(newTransaction);\r\n        }\r\n        return category;\r\n      });\r\n      setCategories(updatedCategories);\r\n      setShowTransactionModal(false);\r\n    };*/\n}\n_s(CategoryProvider, \"PWbQTkFA7l8ZXuUZpjy2c5t9OLs=\");\n_c = CategoryProvider;\nexport default CategoryProvider;\nvar _c;\n$RefreshReg$(_c, \"CategoryProvider\");","map":{"version":3,"names":["CategoryContext","React","useState","useEffect","useContext","LoginContext","jsxDEV","_jsxDEV","CategoryProvider","_ref","_s","children","CategoryList","setCategoryList","UserID","fetch","then","res","json","data","catch","error","console","updateCList","newCList","addCategory","name","limit","type","log","newCategory","id","length","userID","transactions","response","axios","post","status","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["D:/Users/Robotgeek/Documents/GitHub/MoneyTracker/my-money-tracker/src/components/CategoryProvider.js"],"sourcesContent":["import CategoryContext from \"../contexts/CategoryContext\";\r\nimport React, { useState, useEffect } from \"react\"\r\nimport { useContext } from \"react\";\r\nimport { LoginContext } from \"./LoginProvider\";\r\n\r\nfunction CategoryProvider({ children }) {\r\n    const [CategoryList, setCategoryList] = useState([]);\r\n    const  UserID  = useContext(LoginContext)\r\n\r\n    useEffect(() => {\r\n        fetch(`http://localhost:8080/api/v1/kategorija/getbyuserid/${UserID}`)\r\n        .then((res) => {\r\n            return res.json();\r\n        })\r\n        .then((data) => {\r\n            setCategoryList(data)\r\n        }) .catch((error) => {\r\n            console.error(\"Error fetching transaction data:\", error);\r\n          });\r\n      }, \r\n      [UserID]);\r\n    \r\n\r\n    const updateCList = (newCList) => {\r\n        setCategoryList(newCList);\r\n    };\r\n\r\n    const addCategory = async (name, limit, type) => {\r\n      console.log('addCategory function called with:', name, limit, type);\r\n      try {\r\n        const newCategory = {\r\n          id: CategoryList.length + 1,\r\n          name,\r\n          userID: UserID,\r\n          limit,\r\n          type,\r\n          transactions: []\r\n        }\r\n        const response = await axios.post('http://localhost:8080/api/v1/kategorija/add', newCategory );\r\n        if (response.status === 200) {\r\n          console.log(response)\r\n          setCategoryList([...CategoryList, newCategory]);\r\n          updateCList(CategoryList)\r\n        }\r\n      } catch (error) {\r\n        console.error(error);\r\n      }\r\n        setCategoryList([...CategoryList, newCategory]);\r\n        updateCList(CategoryList)\r\n      };\r\n\r\n    return (\r\n        <CategoryContext.Provider value={{CategoryList, addCategory, updateCList }}>\r\n            {children}\r\n        </CategoryContext.Provider>\r\n    )\r\n    /*const addTransaction = (categoryId, name, value) => {\r\n        // API call to add transaction\r\n        // For now, we'll mock the API call\r\n        const updatedCategories = categories.map(category => {\r\n          if (category.id === categoryId) {\r\n            const newTransaction = {\r\n              id: category.transactions.length + 1,\r\n              name,\r\n              value,\r\n              userId,\r\n              categoryId\r\n            };\r\n            category.transactions.push(newTransaction);\r\n          }\r\n          return category;\r\n        });\r\n        setCategories(updatedCategories);\r\n        setShowTransactionModal(false);\r\n      };*/\r\n}\r\n\r\nexport default CategoryProvider\r\n"],"mappings":";;AAAA,OAAOA,eAAe,MAAM,6BAA6B;AACzD,OAAOC,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,SAASC,UAAU,QAAQ,OAAO;AAClC,SAASC,YAAY,QAAQ,iBAAiB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE/C,SAASC,gBAAgBA,CAAAC,IAAA,EAAe;EAAAC,EAAA;EAAA,IAAd;IAAEC;EAAS,CAAC,GAAAF,IAAA;EAClC,MAAM,CAACG,YAAY,EAAEC,eAAe,CAAC,GAAGX,QAAQ,CAAC,EAAE,CAAC;EACpD,MAAOY,MAAM,GAAIV,UAAU,CAACC,YAAY,CAAC;EAEzCF,SAAS,CAAC,MAAM;IACZY,KAAK,CAAE,uDAAsDD,MAAO,EAAC,CAAC,CACrEE,IAAI,CAAEC,GAAG,IAAK;MACX,OAAOA,GAAG,CAACC,IAAI,CAAC,CAAC;IACrB,CAAC,CAAC,CACDF,IAAI,CAAEG,IAAI,IAAK;MACZN,eAAe,CAACM,IAAI,CAAC;IACzB,CAAC,CAAC,CAAEC,KAAK,CAAEC,KAAK,IAAK;MACjBC,OAAO,CAACD,KAAK,CAAC,kCAAkC,EAAEA,KAAK,CAAC;IAC1D,CAAC,CAAC;EACN,CAAC,EACD,CAACP,MAAM,CAAC,CAAC;EAGX,MAAMS,WAAW,GAAIC,QAAQ,IAAK;IAC9BX,eAAe,CAACW,QAAQ,CAAC;EAC7B,CAAC;EAED,MAAMC,WAAW,GAAG,MAAAA,CAAOC,IAAI,EAAEC,KAAK,EAAEC,IAAI,KAAK;IAC/CN,OAAO,CAACO,GAAG,CAAC,mCAAmC,EAAEH,IAAI,EAAEC,KAAK,EAAEC,IAAI,CAAC;IACnE,IAAI;MACF,MAAME,WAAW,GAAG;QAClBC,EAAE,EAAEnB,YAAY,CAACoB,MAAM,GAAG,CAAC;QAC3BN,IAAI;QACJO,MAAM,EAAEnB,MAAM;QACda,KAAK;QACLC,IAAI;QACJM,YAAY,EAAE;MAChB,CAAC;MACD,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAACC,IAAI,CAAC,6CAA6C,EAAEP,WAAY,CAAC;MAC9F,IAAIK,QAAQ,CAACG,MAAM,KAAK,GAAG,EAAE;QAC3BhB,OAAO,CAACO,GAAG,CAACM,QAAQ,CAAC;QACrBtB,eAAe,CAAC,CAAC,GAAGD,YAAY,EAAEkB,WAAW,CAAC,CAAC;QAC/CP,WAAW,CAACX,YAAY,CAAC;MAC3B;IACF,CAAC,CAAC,OAAOS,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC;IACtB;IACER,eAAe,CAAC,CAAC,GAAGD,YAAY,EAAEkB,WAAW,CAAC,CAAC;IAC/CP,WAAW,CAACX,YAAY,CAAC;EAC3B,CAAC;EAEH,oBACIL,OAAA,CAACP,eAAe,CAACuC,QAAQ;IAACC,KAAK,EAAE;MAAC5B,YAAY;MAAEa,WAAW;MAAEF;IAAY,CAAE;IAAAZ,QAAA,EACtEA;EAAQ;IAAA8B,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACa,CAAC;EAE/B;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAClC,EAAA,CAtEQF,gBAAgB;AAAAqC,EAAA,GAAhBrC,gBAAgB;AAwEzB,eAAeA,gBAAgB;AAAA,IAAAqC,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}